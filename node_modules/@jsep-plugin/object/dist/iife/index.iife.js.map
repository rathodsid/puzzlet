{"version":3,"file":"index.iife.js","sources":["../../src/index.js"],"sourcesContent":["const OCURLY_CODE = 123; // {\nconst CCURLY_CODE = 125; // }\nconst OBJECT_EXP  = 'ObjectExpression';\nconst PROPERTY    = 'Property';\n\nexport default {\n\tname: 'object',\n\n\tinit(jsep) {\n\t\t// Object literal support\n\t\tfunction gobbleObjectExpression(env) {\n\t\t\tif (this.code === OCURLY_CODE) {\n\t\t\t\tthis.index++;\n\t\t\t\tconst properties = [];\n\n\t\t\t\twhile (!isNaN(this.code)) {\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (this.code === CCURLY_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tenv.node = this.gobbleTokenProperty({\n\t\t\t\t\t\t\ttype: OBJECT_EXP,\n\t\t\t\t\t\t\tproperties,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: using gobbleExpression instead of gobbleToken to support object destructuring\n\t\t\t\t\tconst key = this.gobbleExpression();\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tbreak; // missing }\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (key.type === jsep.IDENTIFIER && (this.code === jsep.COMMA_CODE || this.code === CCURLY_CODE)) {\n\t\t\t\t\t\t// property value shorthand\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed: false,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tshorthand: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.code === jsep.COLON_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tconst value = this.gobbleExpression();\n\n\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\tthis.throwError('unexpected object property');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst computed = key.type === jsep.ARRAY_EXP;\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed,\n\t\t\t\t\t\t\tkey: computed\n\t\t\t\t\t\t\t\t? key.elements[0]\n\t\t\t\t\t\t\t\t: key,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tshorthand: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\t}\n\t\t\t\t\telse if (key) {\n\t\t\t\t\t\t// spread, assignment (object destructuring with defaults), etc.\n\t\t\t\t\t\tproperties.push(key);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.code === jsep.COMMA_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.throwError('missing }');\n\t\t\t}\n\t\t}\n\n\t\tjsep.hooks.add('gobble-token', gobbleObjectExpression);\n\t}\n};\n"],"names":[],"mappings":"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"}