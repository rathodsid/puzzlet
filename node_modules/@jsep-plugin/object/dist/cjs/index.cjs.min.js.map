{"version":3,"file":"index.cjs.min.js","sources":["../../src/index.js"],"sourcesContent":["const OCURLY_CODE = 123; // {\nconst CCURLY_CODE = 125; // }\nconst OBJECT_EXP  = 'ObjectExpression';\nconst PROPERTY    = 'Property';\n\nexport default {\n\tname: 'object',\n\n\tinit(jsep) {\n\t\t// Object literal support\n\t\tfunction gobbleObjectExpression(env) {\n\t\t\tif (this.code === OCURLY_CODE) {\n\t\t\t\tthis.index++;\n\t\t\t\tconst properties = [];\n\n\t\t\t\twhile (!isNaN(this.code)) {\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (this.code === CCURLY_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tenv.node = this.gobbleTokenProperty({\n\t\t\t\t\t\t\ttype: OBJECT_EXP,\n\t\t\t\t\t\t\tproperties,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: using gobbleExpression instead of gobbleToken to support object destructuring\n\t\t\t\t\tconst key = this.gobbleExpression();\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tbreak; // missing }\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (key.type === jsep.IDENTIFIER && (this.code === jsep.COMMA_CODE || this.code === CCURLY_CODE)) {\n\t\t\t\t\t\t// property value shorthand\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed: false,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tshorthand: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.code === jsep.COLON_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tconst value = this.gobbleExpression();\n\n\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\tthis.throwError('unexpected object property');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst computed = key.type === jsep.ARRAY_EXP;\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed,\n\t\t\t\t\t\t\tkey: computed\n\t\t\t\t\t\t\t\t? key.elements[0]\n\t\t\t\t\t\t\t\t: key,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tshorthand: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\t}\n\t\t\t\t\telse if (key) {\n\t\t\t\t\t\t// spread, assignment (object destructuring with defaults), etc.\n\t\t\t\t\t\tproperties.push(key);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.code === jsep.COMMA_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.throwError('missing }');\n\t\t\t}\n\t\t}\n\n\t\tjsep.hooks.add('gobble-token', gobbleObjectExpression);\n\t}\n};\n"],"names":["name","init","jsep","hooks","add","env","this","code","index","properties","isNaN","gobbleSpaces","node","gobbleTokenProperty","type","key","gobbleExpression","IDENTIFIER","COMMA_CODE","COLON_CODE","value","throwError","computed","ARRAY_EXP","push","elements","shorthand"],"mappings":"aAKA,MAAe,CACdA,KAAM,SAENC,KAAKC,GAmEJA,EAAKC,MAAMC,IAAI,gBAjEf,SAAgCC,GAC/B,GAXiB,MAWbC,KAAKC,KAAsB,CAC9BD,KAAKE,QACL,MAAMC,EAAa,GAEnB,MAAQC,MAAMJ,KAAKC,OAAO,CAEzB,GADAD,KAAKK,eAfU,MAgBXL,KAAKC,KAMR,OALAD,KAAKE,aACLH,EAAIO,KAAON,KAAKO,oBAAoB,CACnCC,KAlBa,mBAmBbL,WAAAA,KAMF,MAAMM,EAAMT,KAAKU,mBACjB,IAAKD,EACJ,MAID,GADAT,KAAKK,eACDI,EAAID,OAASZ,EAAKe,YAAeX,KAAKC,OAASL,EAAKgB,YAhCzC,MAgCuDZ,KAAKC,KAUtE,GAAID,KAAKC,OAASL,EAAKiB,WAAY,CACvCb,KAAKE,QACL,MAAMY,EAAQd,KAAKU,mBAEdI,GACJd,KAAKe,WAAW,8BAEjB,MAAMC,EAAWP,EAAID,OAASZ,EAAKqB,UACnCd,EAAWe,KAAK,CACfV,KAjDa,WAkDbQ,SAAAA,EACAP,IAAKO,EACFP,EAAIU,SAAS,GACbV,EACHK,MAAOA,EACPM,WAAW,IAEZpB,KAAKK,oBAEGI,GAERN,EAAWe,KAAKT,QA7BhBN,EAAWe,KAAK,CACfV,KAjCa,WAkCbQ,UAAU,EACVP,IAAAA,EACAK,MAAOL,EACPW,WAAW,IA2BTpB,KAAKC,OAASL,EAAKgB,YACtBZ,KAAKE,QAGPF,KAAKe,WAAW"}