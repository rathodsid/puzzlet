{"version":3,"file":"index.cjs.js","sources":["../../src/index.js"],"sourcesContent":["const OCURLY_CODE = 123; // {\nconst CCURLY_CODE = 125; // }\nconst OBJECT_EXP  = 'ObjectExpression';\nconst PROPERTY    = 'Property';\n\nexport default {\n\tname: 'object',\n\n\tinit(jsep) {\n\t\t// Object literal support\n\t\tfunction gobbleObjectExpression(env) {\n\t\t\tif (this.code === OCURLY_CODE) {\n\t\t\t\tthis.index++;\n\t\t\t\tconst properties = [];\n\n\t\t\t\twhile (!isNaN(this.code)) {\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (this.code === CCURLY_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tenv.node = this.gobbleTokenProperty({\n\t\t\t\t\t\t\ttype: OBJECT_EXP,\n\t\t\t\t\t\t\tproperties,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: using gobbleExpression instead of gobbleToken to support object destructuring\n\t\t\t\t\tconst key = this.gobbleExpression();\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tbreak; // missing }\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\tif (key.type === jsep.IDENTIFIER && (this.code === jsep.COMMA_CODE || this.code === CCURLY_CODE)) {\n\t\t\t\t\t\t// property value shorthand\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed: false,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\t\tshorthand: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.code === jsep.COLON_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t\tconst value = this.gobbleExpression();\n\n\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\tthis.throwError('unexpected object property');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst computed = key.type === jsep.ARRAY_EXP;\n\t\t\t\t\t\tproperties.push({\n\t\t\t\t\t\t\ttype: PROPERTY,\n\t\t\t\t\t\t\tcomputed,\n\t\t\t\t\t\t\tkey: computed\n\t\t\t\t\t\t\t\t? key.elements[0]\n\t\t\t\t\t\t\t\t: key,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tshorthand: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.gobbleSpaces();\n\t\t\t\t\t}\n\t\t\t\t\telse if (key) {\n\t\t\t\t\t\t// spread, assignment (object destructuring with defaults), etc.\n\t\t\t\t\t\tproperties.push(key);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.code === jsep.COMMA_CODE) {\n\t\t\t\t\t\tthis.index++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.throwError('missing }');\n\t\t\t}\n\t\t}\n\n\t\tjsep.hooks.add('gobble-token', gobbleObjectExpression);\n\t}\n};\n"],"names":[],"mappings":"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"}